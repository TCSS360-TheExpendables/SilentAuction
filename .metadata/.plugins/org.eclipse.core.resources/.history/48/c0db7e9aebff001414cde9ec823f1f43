package backend;

public abstract class Condition implements Comparable<Item>
{
  String[] matches;
  public static class BidCount extends Condition
  {
    public int lessThan;
    public int greaterThan;
    @Override
    public int compareTo(Item o)
    {
      int count = o.statistics.getBidCount();
      int l = lessThan - count;
      int r = count - greaterThan;
      int m = (lessThan - greaterThan) / 2 + greaterThan;
      matches = new String[0];
      return l >= 0 && r >= 0 ? -1 : Math.abs(count - m) / 2;
    }
    
  }

  public static class Name extends Condition
  {
    public String pattern;
    @Override
    public int compareTo(Item o)
    {
      matches = o.statistics.getMatches(pattern, o.getName());
      return matches.length;
    }
  }

  public static class Description extends Condition
  {
    public String pattern;
    @Override
    public int compareTo(Item o)
    {
      matches = o.statistics.getMatches(pattern, o.getDescription());
      return matches.length;
    }
  }

  public static class Donor implements Condition
  {
    public String pattern;
    @Override
    public int compareTo(Item o)
    {
      matches = o.statistics.getMatches(pattern, o.getDescription());
      return matches.length;
    }
  }
}